<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      The ActiveLearner class &middot; modAL
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="public/css/poole.css">
  <link rel="stylesheet" href="public/css/syntax.css">
  <link rel="stylesheet" href="public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="index">
          modAL
        </a>
      </h1>
      <p class="lead">A modular active learning framework for Python3</p>
    </div>

    <nav class="sidebar-nav">
      <b>Overview</b>
        <a class="sidebar-nav-item" href="index">modAL in a nutshell</a>
        <a class="sidebar-nav-item" href="Installation">Installation</a>
      <b>Models</b>
        <a class="sidebar-nav-item" href="ActiveLearner">ActiveLearner</a>
        <a class="sidebar-nav-item" href="Committee">Committee</a>
      <b>Query strategies</b>
        <a class="sidebar-nav-item" href="Uncertainty-sampling">Uncertainty sampling</a>
        <a class="sidebar-nav-item" href="Disagreement-sampling">Disagreement sampling</a>
        <a class="sidebar-nav-item" href="Extending-modAL">Extending modAL</a>
      <b>Examples</b>
        <a class="sidebar-nav-item" href="Pool-based-sampling">Pool-based sampling</a>
        <a class="sidebar-nav-item" href="Stream-based-sampling">Stream-based sampling</a>
        <a class="sidebar-nav-item" href="Active-regression">Active regression</a>
        <a class="sidebar-nav-item" href="Query-by-committee">Query by committee</a>
        <a class="sidebar-nav-item" href="Bootstrapping-and-bagging">Bootstrapping and bagging</a>
        <a class="sidebar-nav-item" href="Keras-integration">Keras integration</a>
      <b>API reference</b>
        <a class="sidebar-nav-item" href="Models-API">modAL.models</a>
        <a class="sidebar-nav-item" href="Uncertainty-sampling-API">modAL.uncertainty</a>
        <a class="sidebar-nav-item" href="Disagreement-sampling-API">modAL.disagreement</a>
    </nav>

    <p>&copy; <a href="https://github.com/poole/hyde">Theme</a> by Mark Otto</p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 id="the-activelearner-class">The ActiveLearner class</h1>
<p>In modAL, the base active learning model is the ActiveLearner class. In this short tutorial, we are going to see how to use it and what are its basic functionalities.</p>

<h2 id="page-contents">Page contents</h2>
<ul>
  <li><a href="#initialization">Initialization</a></li>
  <li><a href="#training">Training</a></li>
  <li><a href="#bootstrapping">Bootstrapping</a></li>
  <li><a href="#querying">Querying for labels</a></li>
  <li><a href="#query-strategies">Query strategies</a></li>
  <li><a href="#prediction">Prediction and scoring</a></li>
</ul>

<h2 id="initialization">Initialization<a name="initialization"></a></h2>
<p>To create an ActiveLearner object, you need to provide two things: a <em>scikit-learn estimator object</em> and a <em>query strategy function</em>. Regarding the latter, you can find built-ins in <code class="highlighter-rouge">modAL.uncertainty</code>, but you can also implement your own. For instance, you can just simply do the following.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">modAL.models</span> <span class="kn">import</span> <span class="n">ActiveLearner</span>
<span class="kn">from</span> <span class="nn">modAL.uncertainty</span> <span class="kn">import</span> <span class="n">uncertainty_sampling</span>
<span class="kn">from</span> <span class="nn">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">RandomForestClassifier</span><span class="p">()</span>

<span class="n">learner</span> <span class="o">=</span> <span class="n">ActiveLearner</span><span class="p">(</span>
    <span class="n">predictor</span><span class="o">=</span><span class="n">RandomForestClassifier</span><span class="p">(),</span>
    <span class="n">query_strategy</span><span class="o">=</span><span class="n">uncertainty_sampling</span>
<span class="p">)</span>
</code></pre></div></div>
<p>If you have initial training data available, you can train the predictor by passing it via the arguments <code class="highlighter-rouge">X_initial</code> and <code class="highlighter-rouge">y_initial</code>. For instance, if the samples are contained in <code class="highlighter-rouge">X_training</code> and the labels are in <code class="highlighter-rouge">y_training</code>, you can do the following.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">learner</span> <span class="o">=</span> <span class="n">ActiveLearner</span><span class="p">(</span>
    <span class="n">predictor</span><span class="o">=</span><span class="n">RandomForestClassifier</span><span class="p">(),</span>
    <span class="n">query_strategy</span><span class="o">=</span><span class="n">uncertainty_sampling</span>
    <span class="n">X_initial</span><span class="o">=</span><span class="n">X_training</span><span class="p">,</span> <span class="n">y_initial</span><span class="o">=</span><span class="n">y_training</span>
<span class="p">)</span>
</code></pre></div></div>
<p>After initialization, your ActiveLearner is ready to ask and learn! The learner keeps track of the training data it has seen during its lifetime.</p>

<h2 id="training">Training<a name="training"></a></h2>
<p>To teach newly acquired labels for the ActiveLearner, you should use the <code class="highlighter-rouge">.teach(X, y)</code> method. This augments the available training data with the new samples <code class="highlighter-rouge">X</code> and new labels <code class="highlighter-rouge">y</code>, then refits the predictor to this augmented training dataset. Just like this:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">learner</span><span class="o">.</span><span class="n">teach</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</code></pre></div></div>
<p>If you would like to start from scratch, you can use the <code class="highlighter-rouge">.fit(X, y)</code> method to make the learner forget everything it has seen and fit the model to the newly provided data.</p>

<h2 id="bootstrapping">Bootstrapping<a name="bootstrapping"></a></h2>
<p>Training is also available with bootstrapping by passing <code class="highlighter-rouge">bootstrap=True</code> for <code class="highlighter-rouge">learner.teach()</code> or <code class="highlighter-rouge">learner.fit()</code>. In this case, a random set is sampled with replacement from the training data available (or the data provided in the case of <code class="highlighter-rouge">.fit()</code>), which is used to train the data. Bootstrapping is mostly useful when building ensemble models with bagging, for instance in a Query by Committee setting.</p>

<h2 id="querying-for-labels">Querying for labels<a name="querying"></a></h2>
<p>Active learners are called <em>active</em> because if you provide them unlabelled samples, they can select you the best instances to label. In modAL, you can achieve this by calling the <code class="highlighter-rouge">.query(X)</code> method:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">query_idx</span><span class="p">,</span> <span class="n">query_sample</span> <span class="o">=</span> <span class="n">learner</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c"># ...obtaining new labels from the Oracle...</span>

<span class="n">learner</span><span class="o">.</span><span class="n">teach</span><span class="p">(</span><span class="n">query_sample</span><span class="p">,</span> <span class="n">query_label</span><span class="p">)</span>
</code></pre></div></div>
<p>Under the hood, the <code class="highlighter-rouge">.query(X)</code> method simply calls the <em>query strategy function</em> specified by you upon initialization of the ActiveLearner.</p>

<p>The available built-in query strategies are <em>uncertainty sampling</em>, <em>max margin sampling</em> and <em>entropy sampling</em>. For more details, see the <a href="Uncertainty-sampling">Uncertainty sampling</a> wiki page.</p>

<h2 id="query-strategies">Query strategies<a name="query-strategies"></a></h2>
<p>In modAL, currently there are three built-in query strategies: <em>max uncertainty</em>, <em>max margin</em> and <em>max entropy</em>, they are located in the <code class="highlighter-rouge">modAL.uncertainty</code> module. You can find an <a href="Uncertainty-sampling">informal tutorial here</a> about them. For technical details, see the <a href="Uncertainty-sampling-API">API reference for uncertainty sampling</a>.</p>

<h2 id="prediction-and-scoring">Prediction and scoring<a name="prediction"></a></h2>
<p>To use the ActiveLearner for prediction and to calculate the mean accuracy score, you can just do what you would do with a <em>scikit-learn</em> classifier: call the <code class="highlighter-rouge">.predict(X)</code> and <code class="highlighter-rouge">.score(X, y)</code> methods. If you would like to use more sophisticated metrics for your prediction, feel free to use a function from <code class="highlighter-rouge">sklearn.metrics</code>, which is compatible with modAL.</p>

</div>

    </div>

  </body>
</html>
